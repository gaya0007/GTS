<!DOCTYPE html>
<html>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>

<form name= "ANALYZE" action="" method="post" target="_parent">
	<input name="cmd" type="hidden" value="CREATE">
	Pair:<br>
	<select name="pair">
		<option value = "EUR_USD">EURUSD</option>
	</select>
	<br><br>
	Start Date:<br>
	<input type="date" name="start_date" min="2013-01-01"><br><br>
	End Date:<br>
	<input type="date" name="end_date" min="2013-01-02"><br><br>
	<button  type="submit" name = "analyze">Analyze</button> 
</form>

<script>
	$(document).ready(function(){
		var $form = $('form');
		//Set end_date same as the start date.
		$("input[name='start_date']").change(function() {
			$("input[name='end_date']").val($(this).val());
		})
		
		$form.submit(function(){
			//check start_date for validity
			if($("input[name='end_date']").val() == ""){
				alert("Start date is not defined!");
				return false;
			}
			//check end_date for validity 
			if($("input[name='end_date']").val() == ""){
				alert("End date is not defined!");
				return false;
			}
			$.post($(this).attr('action'), $(this).serialize(), function(response){
            // do something here on success
				console.log("here");
			},'json');
			return false;
		});
	});
</script>
</body>
</html>
